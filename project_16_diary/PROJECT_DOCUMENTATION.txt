==============================================================================
                    PHP DIARY PROJECT - ДОКУМЕНТАЦІЯ
==============================================================================

АНОТАЦІЯ ПРОЕКТУ:

PHP Diary — це веб-застосунок, який дозволяє користувачам вести персональний 
щоденник записів з можливістю додавання тексту, дати та зображень. Проект 
розроблений на PHP з використанням бази даних MySQL та забезпечує зручний 
інтерфейс для управління записами щоденника.


==============================================================================
ОСНОВНІ ФУНКЦІЇ ПРОЕКТУ:
==============================================================================

1. ПЕРЕГЛЯД ЗАПИСІВ ЩОДЕННИКА

Сторінка index.php є головною сторінкою застосунку. Вона забезпечує вивід 
всіх записів щоденника у вигляді карток. Записи сортуються за датою та ID 
у зворотному порядку (від найновіших до найстаріших). Сторінка реалізує 
систему пагінації, яка обмежує кількість записів на сторінці до трьох. 
При завантаженні сторінки обчислюється загальна кількість записів в базі 
даних та визначається кількість сторінок для нормального розподілу записів. 
Навігація по сторінках здійснюється через URL-параметр page, який проходить 
валідацію для запобігання помилкам.


2. СТВОРЕННЯ НОВИХ ЗАПИСІВ

Форма на сторінці form.php дозволяє користувачам створювати нові записи в 
щоденнику. Форма містить поля для введення назви запису, вибору дати, 
загрузки зображення та написання текстового повідомлення. Після заповнення 
форми дані надсилаються методом POST для обробки на сервері. Валідація 
полів title, date та message здійснюється на рівні HTML5. Данні записуються 
в базу даних за допомогою підготовленого SQL-запиту для забезпечення безпеки.


3. ОБРОБКА ТА ОПТИМІЗАЦІЯ ЗОБРАЖЕНЬ

При завантаженні зображення до записи застосунок виконує автоматичну 
обробку файлу. Спочатку перевіряється, що завантажено саме зображення 
за допомогою функції getimagesize(). Назва файлу очищується від спеціальних 
символів та об'єднується з часовою міткою для забезпечення унікальності. 
Зображення масштабується так, щоб його найдовша сторона не перевищувала 
400 пікселів. Масштабування виконується з використанням функцій 
imagecreatetruecolor() та imagecopyresampled() для збереження якості. 
Оброблене зображення збирається у каталог uploads/ та прив'язується до 
запису в базі даних.


4. ЗАХИСТ ВІД XSS-АТАК

Проект реалізує функцію e() для екранування вихідних даних. Ця функція 
використовує htmlspecialchars() для перетворення спеціальних символів HTML 
на їх сутності, що запобігає виконанню шкідливого JavaScript-коду. Функція 
застосовується до всіх користувацьких даних перед виводом на сторінку, 
включаючи назви записів та текстові повідомлення. Текстові повідомлення 
також обробляються функцією nl2br() для збереження розривів рядків.


5. ПІДКЛЮЧЕННЯ ТА УПРАВЛІННЯ БАЗОЮ ДАНИХ

Модуль db-connect.inc.php відповідає за встановлення з'єднання з базою 
даних MySQL. З'єднання створюється з використанням бібліотеки PDO 
(PHP Data Objects), що забезпечує безпечний та надійний доступ до даних. 
Налаштування PDO включають режим обробки помилок ERRMODE_EXCEPTION, 
який підвищує контроль над можливими помилками. База даних використовує 
кодування UTF-8MB4 для підтримки різних символів та мов. У разі помилки 
з'єднання виводиться повідомлення про помилку користувачеві.


6. НАВІГАЦІЯ ТА КОРИСТУВАЦЬКИЙ ІНТЕРФЕЙС

Структура сторінок будується за допомогою шаблонів header.view.php та 
footer.view.php, які включаються на кожну сторінку. Навігаційна панель 
містить логотип проекту та кнопку для переходу до форми створення нового 
запису. Головна сторінка мобільна та адаптивна, використовуючи класи CSS 
для формування розмітки. Всі стилі організовані у файлі styles.css разом 
з normalize.css для забезпечення консистентного відображення на різних 
браузерах. Кожен запис відображається у вигляді картки з датою, назвою, 
текстом та опціональним зображенням.


7. СИСТЕМА ПАГІНАЦІЇ

Система пагінації дозволяє розподілити всі записи на кілька сторінок 
для поліпшення швидкості завантаження та зручності перегляду. Пагінація 
відображається у вигляді нумерованих посилань та кнопок переходу вперед/назад. 
Поточна активна сторінка виділяється особливим стилем CSS. Посилання 
пагінації формуються за допомогою функції http_build_query() для забезпечення 
коректної передачі параметрів URL.


==============================================================================
СТРУКТУРА ПРОЕКТУ:
==============================================================================

src/
├── index.php                    - Головна сторінка з переглядом записів
├── form.php                     - Форма для створення нових записів
├── images/                      - Каталог зображень проекту
├── uploads/                     - Каталог для завантажених зображень
├── inc/
│   ├── db-connect.inc.php       - Модуль підключення до БД
│   └── functions.inc.php        - Допоміжні функції (функція e())
├── views/
│   ├── header.view.php          - Шаблон верхньої частини сторінки
│   └── footer.view.php          - Шаблон нижньої частини сторінки
└── styles/
    ├── normalize.css            - Нормалізація CSS
    └── styles.css               - Основні стилі проекту


==============================================================================
ТЕХНОЛОГІЧНИЙ СТЕК:
==============================================================================

- Backend: PHP 7+
- Database: MySQL 5.7+
- Frontend: HTML5, CSS3
- Libraries: PDO (PHP Data Objects), GD (для обробки зображень)
- Version Control: Git


==============================================================================
БАЗА ДАНИХ:
==============================================================================

Основна таблиця проекту "entries" містить такі поля:

- id              : INTEGER, PRIMARY KEY, AUTO_INCREMENT
- title           : VARCHAR(255), NOT NULL - назва запису
- date            : DATE, NOT NULL - дата запису
- message         : LONGTEXT, NOT NULL - основний текст запису
- image           : VARCHAR(255), NULLABLE - назва завантаженого зображення


==============================================================================
